<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Garaje de Marthica | Insumos</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="../styles/insumos.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Arimo:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
</head>
<body>
    
    <nav id="navbar">
        <div class="divimg">
            <a href="../../index.html">
                <img src="../images/mainlogo.png" alt="El garaje de marthica">
            </a>
            <h1>El Garaje De Marthica</h1>
        </div>
        <div class="menu">
            <a href="./ventas.html">Ventas</a>
            <a href="./products.html">Productos</a>
            <a href="./insumos.html">Insumos</a>
            <button id="btn-backup">游</button>
            <input type="file" id="importFile" accept=".json" hidden>
            <button onclick="document.getElementById('importFile').click()">
                游
            </button>
            <button id="btn-theme"><i class="bi bi-sun-fill"></i></button>
        </div>
    </nav>

    <div id="content">
        <section>
            <h2 class="title-section">Insumos con stock bajo</h2>
            <h3 id="alert-stock"></h3>
        </section>
        <section>
            <h2 class="title-section">Tabla de Insumos</h2>
            <div class="div-fast-access">
                <button id="add-insumo">Agregar Insumo</button>
            </div>
            <table>
                <thead>
                    <tr>
                        <th class="filter">
                            <input data-filter="nombre" type="text" placeholder="Nombre" id="filtro-nombre">
                        </th>
                        <th class="filter">
                            <input data-filter="marca" type="text" placeholder="Marca" id="filtro-marca">
                        </th>
                        <th>Stock Actual</th>
                        <th>Stock M칤nimo</th>
                        <th class="filter">
                            <select data-filter="estado" name="" id="filtro-estado">
                                <option value="">Estado</option>
                                <option value="ok">Ok</option>
                                <option value="bajo">Bajo</option>
                                <option value="critico">Critico</option>
                            </select>
                        </th>
                        <th>
                            Precio Unitario
                        </th>
                        <th>
                            Precio/Medida
                        </th>
                        <th>
                            Acciones
                        </th>
                    </tr>
                </thead>
                <tbody id="tabla-insumos">

                </tbody>
            </table>
        </section>
    </div>

    <div id="overlay">

    </div>

    <div id="modal-add" class="modal">
        <h2 id="tit-form">Agregar Nuevo insumo</h2>
        <form id="form-insumo">
            <h3>游닍 Informaci칩n B치sica</h3>
        
            <div class="seccion-modal-add">
                <label>
                    Nombre del Insumo: *
                    <input autocomplete="off" class="campo-requerido" type="text" id="input-nombre" placeholder="Ej: Harina">
                </label>
                
                <label>
                    Marca:
                    <input autocomplete="off" type="text" id="input-marca" placeholder="Ej: HAZ DE OROS">
                </label>
                
                <label>
                    Unidad Base: * <small>(unidad para usar en recetas)</small>
                    <select class="campo-requerido" id="input-unidad">
                        <option value="">Seleccionar...</option>
                        <option value="g">Gramos (g)</option>
                        <option value="kg">Kilogramos (kg)</option>
                        <option value="ml">Mililitros (ml)</option>
                        <option value="l">Litros (l)</option>
                        <option value="und">Unidades (und)</option>
                    </select>
                </label>
            </div>
        
            <h3>游눯 Informaci칩n de Compra</h3>
        
            <div class="seccion-modal-add">
                <label>
                    Precio de Compra: * <small>(쮺u치nto pagaste por el producto?)</small>
                    <input autocomplete="off" class="campo-requerido" type="number" id="input-precio-compra" placeholder="Ej: 120000" step="0.01">
                </label>
                
                <label>
                    Cantidad de Compra: * <small>(쮺u치nto trae el producto?)</small>
                    <input autocomplete="off" class="campo-requerido" type="number" id="input-cantidad-compra" placeholder="Ej: 50000 (si es 50kg)" step="0.01">
                    <small>
                        Use la unidad base.
                        Si compr칩 50kg y la unidad es "g", escriba: 50000
                    </small>
                </label>
                
                <div class="info-calculada">
                    <p>
                        游늵 Costo por <span id="texto-unidad">unidad</span>:
                        <strong id="costo-calculado">$0.00</strong>
                    </p>
                    <small class="text-muted">
                        Se calcula: Precio de Compra 칭 Cantidad de Compra
                    </small>
                </div>
            </div>
        
            <h3>游늵 Stock</h3>
        
            <div class="seccion-modal-add">
                <label>
                    Stock M칤nimo: * <small>(alerta cuando llegue a este nivel)</small>
                    <input autocomplete="off" class="campo-requerido" type="number" id="input-stock-minimo" placeholder="Ej: 5000" step="0.01">
                </label>
                
                <label>
                    Stock Actual: * <small>(쮺u치nto tienes ahora?)</small>
                    <input autocomplete="off" class="campo-requerido" type="number" id="input-stock-actual" placeholder="Ej: 3000" step="0.01">
                </label>
            </div>
        
            <div class="form-actions seccion-modal-add">
                <button id="btn-close-add" type="button" class="btn-secondary">Cancelar</button>
                <button type="submit" class="btn-primary">游 Guardar Insumo</button>
            </div>
        </form>
    </div>

    <div id="modal-delete" class="modal">
        <h2>쮼sta seguro de eliminar <span id="insumo-a-eliminar"></span> del stock?</h2>
        <div>
            <button id="btn-cancel-delete">Cancelar</button>
            <button id="btn-confirm-delete">Confirmar</button>
        </div>
    </div>

    <script src="../logic/insumos.js"></script>
</body>
</html>